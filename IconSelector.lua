local function mod(a, b)
  return a - math.floor(a / b) * b
end

local function CreateLegacyIconSelector()
  local f = CreateFrame("Frame", "BrainSaverIconSelector", UIParent)
  f:SetWidth(340)
  f:SetHeight(320)
  f:SetBackdrop({
    bgFile = "Interface\\DialogFrame\\UI-DialogBox-Background",
    edgeFile = "Interface\\DialogFrame\\UI-DialogBox-Border",
    tile = true, tileSize = 32, edgeSize = 32,
    insets = { left = 11, right = 12, top = 12, bottom = 11 }
  })
  f:SetPoint("CENTER", UIParent, "CENTER")
  f:EnableMouse(true)
  f:SetMovable(true)
  f:RegisterForDrag("LeftButton")
  f:SetScript("OnDragStart", function() f:StartMoving() end)
  f:SetScript("OnDragStop", function() f:StopMovingOrSizing() end)
  f:Hide()

  local title = f:CreateFontString(nil, "ARTWORK", "GameFontNormal")
  title:SetText("Choose an Icon")
  title:SetPoint("TOP", 0, -16)

  local scrollFrame = CreateFrame("ScrollFrame", "BrainSaverIconSelectorScrollFrame", f, "UIPanelScrollFrameTemplate")
  scrollFrame:SetPoint("TOPLEFT", f, "TOPLEFT", 10, -40)
  scrollFrame:SetPoint("BOTTOMRIGHT", f, "BOTTOMRIGHT", -30, 10)

  local content = CreateFrame("Frame", nil, scrollFrame)
  content:SetWidth(300)
  scrollFrame:SetScrollChild(content)

  -- Liste des icônes prédéfinies (exemple réduit)
  local ICON_LIST = {
    "Ability_Ambush",
    "Ability_BackStab",
    "Ability_BullRush",
    "Ability_CheapShot",
    "Ability_CriticalStrike",
    "Ability_Defend",
    "Ability_Devour",
    "Ability_Druid_AquaticForm",
    "Ability_Druid_Bash",
    "Ability_Druid_CatForm",
    "Ability_Druid_CatFormAttack",
    "Ability_Druid_ChallangingRoar",
    "Ability_Druid_Cower",
    "Ability_Druid_Dash",
    "Ability_Druid_DemoralizingRoar",
    "Ability_Druid_Disembowel",
    "Ability_Druid_Enrage",
    "Ability_Druid_Maul",
    "Ability_Druid_Rake",
    "Ability_Druid_Ravage",
    "Ability_Druid_SupriseAttack",
    "Ability_Druid_Swipe",
    "Ability_Druid_TravelForm",
    "Ability_DualWield",
    "Ability_Ensnare",
    "Ability_EyeOfTheOwl",
    "Ability_FiegnDead",
    "Ability_GhoulFrenzy",
    "Ability_GolemStormBolt",
    "Ability_GolemThunderClap",
    "Ability_Gouge",
    "Ability_Hibernation",
    "Ability_Hunter_AimedShot",
    "Ability_Hunter_AspectOfTheMonkey",
    "Ability_Hunter_BeastCall",
    "Ability_Hunter_BeastCall02",
    "Ability_Hunter_BeastSoothe",
    "Ability_Hunter_BeastTaming",
    "Ability_Hunter_BeastTraining",
    "Ability_Hunter_CriticalShot",
    "Ability_Hunter_EagleEye",
    "Ability_Hunter_MendPet",
    "Ability_Hunter_Pathfinding",
    "Ability_Hunter_Pet_Bat",
    "Ability_Hunter_Pet_Bear",
    "Ability_Hunter_Pet_Boar",
    "Ability_Hunter_Pet_Cat",
    "Ability_Hunter_Pet_Crab",
    "Ability_Hunter_Pet_Crocolisk",
    "Ability_Hunter_Pet_Gorilla",
    "Ability_Hunter_Pet_Hyena",
    "Ability_Hunter_Pet_Owl",
    "Ability_Hunter_Pet_Raptor",
    "Ability_Hunter_Pet_Scorpid",
    "Ability_Hunter_Pet_Spider",
    "Ability_Hunter_Pet_TallStrider",
    "Ability_Hunter_Pet_Turtle",
    "Ability_Hunter_Pet_Vulture",
    "Ability_Hunter_Pet_WindSerpent",
    "Ability_Hunter_Pet_Wolf",
    "Ability_Hunter_Quickshot",
    "Ability_Hunter_RunningShot",
    "Ability_Hunter_SniperShot",
    "Ability_Hunter_SwiftStrike",
    "Ability_ImpalingBolt",
    "Ability_Kick",
    "Ability_Marksmanship",
    "Ability_MeleeDamage",
    "Ability_Mount_BlackDireWolf",
    "Ability_Mount_BlackPanther",
    "Ability_Mount_JungleTiger",
    "Ability_Mount_MechaStrider",
    "Ability_Mount_MountainRam",
    "Ability_Mount_NightmareHorse",
    "Ability_Mount_PinkTiger",
    "Ability_Mount_Raptor",
    "Ability_Mount_RidingHorse",
    "Ability_Mount_Undeadhorse",
    "Ability_Mount_WhiteDireWolf",
    "Ability_Mount_WhiteTiger",
    "Ability_Parry",
    "Ability_Physical_Taunt",
    "Ability_PierceDamage",
    "Ability_PoisonArrow",
    "Ability_Poisons",
    "Ability_PoisonSting",
    "Ability_Racial_Avatar",
    "Ability_Racial_BearForm",
    "Ability_Racial_BloodRage",
    "Ability_Racial_Cannibalize",
    "Ability_Racial_ShadowMeld",
    "Ability_Racial_Ultravision",
    "Ability_Repair",
    "Ability_Rogue_Ambush",
    "Ability_Rogue_Disguise",
    "Ability_Rogue_Distract",
    "Ability_Rogue_DualWeild",
    "Ability_Rogue_Eviscerate",
    "Ability_Rogue_FeignDeath",
    "Ability_Rogue_Feint",
    "Ability_Rogue_Garrote",
    "Ability_Rogue_KidneyShot",
    "Ability_Rogue_Rupture",
    "Ability_Rogue_SliceDice",
    "Ability_Rogue_Sprint",
    "Ability_Rogue_Trip",
    "Ability_Sap",
    "Ability_Seal",
    "Ability_SearingArrow",
    "Ability_ShockWave",
    "Ability_ShootWand",
    "Ability_Smash",
    "Ability_Spy",
    "Ability_Stealth",
    "Ability_SteelMelee",
    "Ability_TheBlackArrow",
    "Ability_Throw",
    "Ability_ThunderBolt",
    "Ability_ThunderClap",
    "Ability_TownWatch",
    "Ability_Tracking",
    "Ability_TrueShot",
    "Ability_UpgradeMoonGlaive",
    "Ability_Vanish",
    "Ability_Warrior_BattleShout",
    "Ability_Warrior_Challange",
    "Ability_Warrior_Charge",
    "Ability_Warrior_Cleave",
    "Ability_Warrior_DecisiveStrike",
    "Ability_Warrior_DefensiveStance",
    "Ability_Warrior_Disarm",
    "Ability_Warrior_InnerRage",
    "Ability_Warrior_OffensiveStance",
    "Ability_Warrior_PunishingBlow",
    "Ability_Warrior_Revenge",
    "Ability_Warrior_Riposte",
    "Ability_Warrior_SavageBlow",
    "Ability_Warrior_ShieldBash",
    "Ability_Warrior_ShieldWall",
    "Ability_Warrior_Sunder",
    "Ability_Warrior_WarCry",
    "Ability_WarStomp",
    "Ability_Whirlwind",
    "INV_Ammo_Arrow_01",
    "INV_Ammo_Arrow_02",
    "INV_Ammo_Bullet_01",
    "INV_Ammo_Bullet_02",
    "INV_Ammo_Bullet_03",
    "INV_Ammo_FireTar",
    "INV_Ammo_Snowball",
    "INV_Axe_01",
    "INV_Axe_02",
    "INV_Axe_03",
    "INV_Axe_04",
    "INV_Axe_05",
    "INV_Banner_01",
    "INV_Banner_02",
    "INV_Banner_03",
    "INV_Battery_01",
    "INV_Battery_02",
    "INV_Belt_01",
    "INV_Belt_02",
    "INV_Belt_03",
    "INV_Belt_04",
    "INV_Belt_05",
    "INV_Boots_01",
    "INV_Boots_02",
    "INV_Boots_03",
    "INV_Boots_04",
    "INV_Boots_05",
    "INV_Boots_Fabric_01",
    "INV_Boots_Plate_01",
    "INV_Boots_Plate_02",
    "INV_Boots_Plate_03",
    "INV_Boots_Plate_04",
    "INV_Boots_Plate_05",
    "INV_Boots_Wolf",
    "INV_Box_01",
    "INV_Box_02",
    "INV_Box_03",
    "INV_Box_04",
    "INV_Box_Birdcage_01",
    "INV_Box_PetCarrier_01",
    "INV_Bracer_01",
    "INV_Bracer_02",
    "INV_Bracer_03",
    "INV_Bracer_04",
    "INV_Bracer_05",
    "INV_Cask_01",
    "INV_Cask_02",
    "INV_Cask_03",
    "INV_Cask_04",
    "INV_Chest_Chain",
    "INV_Chest_Chain_03",
    "INV_Chest_Chain_04",
    "INV_Chest_Chain_05",
    "INV_Chest_Cloth_01",
    "INV_Chest_Cloth_02",
    "INV_Chest_Cloth_03",
    "INV_Chest_Cloth_04",
    "INV_Chest_Cloth_05",
    "INV_Chest_Fur",
    "INV_Chest_Leather_01",
    "INV_Chest_Leather_02",
    "INV_Chest_Leather_03",
    "INV_Chest_Leather_04",
    "INV_Chest_Leather_05",
    "INV_Chest_Plate01",
    "INV_Chest_Plate02",
    "INV_Chest_Plate03",
    "INV_Chest_Plate04",
    "INV_Chest_Plate05",
    "INV_Chest_Samurai",
    "INV_Chest_Wolf",
    "INV_Crate_01",
    "INV_Crate_02",
    "INV_Crate_03",
    "INV_Crate_04",
    "INV_Crate_05",
    "INV_Crown_01",
    "INV_Crown_02",
    "INV_Drink_01",
    "INV_Drink_02",
    "INV_Drink_03",
    "INV_Drink_04",
    "INV_Drink_05",
    "INV_Drink_Milk_01",
    "INV_Drink_Milk_02",
    "INV_Drink_Milk_03",
    "INV_Drink_Milk_04",
    "INV_Drink_Milk_05",
    "INV_Egg_01",
    "INV_Egg_02",
    "INV_Egg_03",
    "INV_Egg_04",
    "INV_Egg_05",
    "INV_Fabric_FelRag",
    "INV_Fabric_Linen_01",
    "INV_Fabric_Linen_02",
    "INV_Fabric_Linen_03",
    "INV_Fabric_Mageweave_01",
    "INV_Fabric_Mageweave_02",
    "INV_Fabric_Mageweave_03",
    "INV_Fabric_MoonRag_01",
    "INV_Fabric_MoonRag_02",
    "INV_Fabric_Purple_01",
    "INV_Fabric_Purple_02",
    "INV_Fabric_PurpleFire_01",
    "INV_Fabric_PurpleFire_02",
    "INV_Fabric_Silk_01",
    "INV_Fabric_Silk_02",
    "INV_Fabric_Silk_03",
    "INV_Fabric_Wool_01",
    "INV_Fabric_Wool_02",
    "INV_Fabric_Wool_03",
    "INV_Feather_01",
    "INV_Feather_02",
    "INV_Feather_03",
    "INV_Feather_04",
    "INV_Feather_05",
    "INV_Fishingpole_01",
    "INV_Fishingpole_02",
    "INV_Gauntlets_01",
    "INV_Gauntlets_02",
    "INV_Gauntlets_03",
    "INV_Gauntlets_04",
    "INV_Gauntlets_05",
    "INV_Gizmo_01",
    "INV_Gizmo_02",
    "INV_Gizmo_03",
    "INV_Gizmo_04",
    "INV_Gizmo_05",
    "INV_Gizmo_BronzeFramework_01",
    "INV_Gizmo_GoblinBoomBox_01",
    "INV_Gizmo_MithrilCasing_01",
    "INV_Gizmo_MithrilCasing_02",
    "INV_Gizmo_Pipe_01",
    "INV_Gizmo_Pipe_02",
    "INV_Gizmo_Pipe_03",
    "INV_Gizmo_Pipe_04",
    "INV_Gizmo_RocketBoot_01",
    "INV_Gizmo_RocketBoot_Destroyed_02",
    "INV_Hammer_01",
    "INV_Hammer_02",
    "INV_Hammer_03",
    "INV_Hammer_04",
    "INV_Hammer_05",
    "INV_Helmet_01",
    "INV_Helmet_02",
    "INV_Helmet_03",
    "INV_Helmet_04",
    "INV_Helmet_05",
    "INV_Helmet_06",
    "INV_Ingot_01",
    "INV_Ingot_02",
    "INV_Ingot_03",
    "INV_Ingot_04",
    "INV_Ingot_05",
    "INV_Ingot_Bronze",
    "INV_Ingot_Eternium",
    "INV_Ingot_Iron",
    "INV_Ingot_Mithril",
    "INV_Ingot_Steel",
    "INV_Ingot_Thorium",
    "INV_Jewelry_Amulet_01",
    "INV_Jewelry_Amulet_02",
    "INV_Jewelry_Amulet_03",
    "INV_Jewelry_Amulet_04",
    "INV_Jewelry_Amulet_05",
    "INV_Jewelry_Necklace_01",
    "INV_Jewelry_Necklace_02",
    "INV_Jewelry_Necklace_03",
    "INV_Jewelry_Necklace_04",
    "INV_Jewelry_Necklace_05",
    "INV_Jewelry_Ring_01",
    "INV_Jewelry_Ring_02",
    "INV_Jewelry_Ring_03",
    "INV_Jewelry_Ring_04",
    "INV_Jewelry_Talisman_01",
    "INV_Jewelry_Talisman_02",
    "INV_Jewelry_Talisman_03",
    "INV_Jewelry_Talisman_04",
    "INV_Jewelry_Talisman_05",
    "INV_Letter_01",
    "INV_Letter_02",
    "INV_Letter_03",
    "INV_Letter_04",
    "INV_Letter_05",
    "INV_Mace_01",
    "INV_Mace_02",
    "INV_Mace_03",
    "INV_Mace_04",
    "INV_Mace_05",
    "INV_Misc_Ammo_Bullet_01",
    "INV_Misc_Ammo_Gunpowder_01",
    "INV_Misc_Ammo_Gunpowder_02",
    "Inv_Misc_ammo_Gunpowder_03",
    "Inv_Misc_ammo_Gunpowder_04",
    "Inv_Misc_ammo_Gunpowder_05",
    "INV_Misc_ArmorKit_01",
    "INV_Misc_ArmorKit_02",
    "INV_Misc_ArmorKit_03",
    "INV_Misc_ArmorKit_04",
    "INV_Misc_ArmorKit_05",
    "INV_Misc_Bag_01",
    "INV_Misc_Bag_02",
    "INV_Misc_Bag_03",
    "INV_Misc_Bag_04",
    "INV_Misc_Bag_05",
    "INV_Misc_Bandage_01",
    "INV_Misc_Bandage_02",
    "INV_Misc_Bandage_03",
    "INV_Misc_Bandage_04",
    "INV_Misc_Bandage_05",
    "INV_Misc_Bell_01",
    "INV_Misc_Birdbeck_01",
    "INV_Misc_Birdbeck_02",
    "INV_Misc_Bomb_01",
    "INV_Misc_Bomb_02",
    "INV_Misc_Bomb_03",
    "INV_Misc_Bomb_04",
    "INV_Misc_Bomb_05",
    "INV_Misc_Bone_DwarfSkull_01",
    "INV_Misc_Bone_ElfSkull_01",
    "INV_Misc_Bone_HumanSkull_01",
    "INV_Misc_Bone_OrcSkull_01",
    "INV_Misc_Bone_TaurenSkull_01",
    "INV_Misc_Book_01",
    "INV_Misc_Book_02",
    "INV_Misc_Book_03",
    "INV_Misc_Book_04",
    "INV_Misc_Book_05",
    "INV_Misc_Branch_01",
    "INV_Misc_Candle_01",
    "INV_Misc_Candle_02",
    "INV_Misc_Candle_03",
    "INV_Misc_Cape_01",
    "INV_Misc_Cape_02",
    "INV_Misc_Cape_03",
    "INV_Misc_Cape_04",
    "INV_Misc_Cape_05",
    "INV_Misc_Coin_01",
    "INV_Misc_Coin_02",
    "INV_Misc_Coin_03",
    "INV_Misc_Coin_04",
    "INV_Misc_Coin_05",
    "INV_Misc_Coin_06",
    "INV_Misc_Comb_01",
    "INV_Misc_Comb_02",
    "INV_Misc_Drum_01",
    "INV_Misc_Drum_02",
    "INV_Misc_Dust_01",
    "INV_Misc_Dust_02",
    "INV_Misc_Ear_Human_01",
    "INV_Misc_Ear_Human_02",
    "INV_Misc_Ear_NightElf_01",
    "INV_Misc_Ear_NightElf_02",
    "INV_Misc_Eye_01",
    "INV_Misc_Fish_01",
    "INV_Misc_Fish_02",
    "INV_Misc_Fish_03",
    "INV_Misc_Fish_04",
    "INV_Misc_Fish_05",
    "INV_Misc_Fish_Turtle_01",
    "INV_Misc_Fish_Turtle_02",
    "INV_Misc_Fish_Turtle_03",
    "INV_Misc_Flower_01",
    "INV_Misc_Flower_02",
    "INV_Misc_Flower_03",
    "INV_Misc_Flower_04",
    "INV_Misc_Flute_01",
    "INV_Misc_Food_01",
    "INV_Misc_Food_02",
    "INV_Misc_Food_03",
    "INV_Misc_Food_04",
    "INV_Misc_Food_05",
    "INV_Misc_Food_Wheat_01",
    "INV_Misc_Food_Wheat_02",
    "INV_Misc_Foot_Centaur",
    "INV_Misc_Foot_Kodo",
    "INV_Misc_Fork&Knife",
    "INV_Misc_Gear_01",
    "INV_Misc_Gear_02",
    "INV_Misc_Gear_03",
    "INV_Misc_Gear_04",
    "INV_Misc_Gear_05",
    "INV_Misc_Gem_01",
    "INV_Misc_Gem_02",
    "INV_Misc_Gem_03",
    "INV_Misc_Gem_Amethyst_01",
    "INV_Misc_Gem_Amethyst_02",
    "INV_Misc_Gem_Amethyst_03",
    "INV_Misc_Gem_Bloodstone_01",
    "INV_Misc_Gem_Bloodstone_02",
    "INV_Misc_Gem_Bloodstone_03",
    "INV_Misc_Gem_Crystal_01",
    "INV_Misc_Gem_Crystal_02",
    "INV_Misc_Gem_Crystal_03",
    "INV_Misc_Gem_Diamond_01",
    "INV_Misc_Gem_Diamond_02",
    "INV_Misc_Gem_Diamond_03",
    "INV_Misc_Gem_Emerald_01",
    "INV_Misc_Gem_Emerald_02",
    "INV_Misc_Gem_Emerald_03",
    "INV_Misc_Gem_Opal_01",
    "INV_Misc_Gem_Opal_02",
    "INV_Misc_Gem_Opal_03",
    "INV_Misc_Gem_Pearl_01",
    "INV_Misc_Gem_Pearl_02",
    "INV_Misc_Gem_Pearl_03",
    "INV_Misc_Gem_Pearl_04",
    "INV_Misc_Gem_Pearl_05",
    "INV_Misc_Gem_Ruby_01",
    "INV_Misc_Gem_Ruby_02",
    "INV_Misc_Gem_Ruby_03",
    "INV_Misc_Gem_Sapphire_01",
    "INV_Misc_Gem_Sapphire_02",
    "INV_Misc_Gem_Sapphire_03",
    "INV_Misc_Gem_Stone_01",
    "INV_Misc_Gem_Topaz_01",
    "INV_Misc_Gem_Topaz_02",
    "INV_Misc_Gem_Topaz_03",
    "INV_Misc_Gem_Variety_01",
    "INV_Misc_Gem_Variety_02",
    "INV_Misc_Gift_01",
    "INV_Misc_Gift_02",
    "INV_Misc_Gift_03",
    "INV_Misc_Gift_04",
    "INV_Misc_Gift_05",
    "INV_Misc_GiftWrap_01",
    "INV_Misc_GiftWrap_02",
    "INV_Misc_GiftWrap_03",
    "INV_Misc_Head_02",
    "INV_Misc_Head_Centaur_01",
    "INV_Misc_Head_Dragon_01",
    "INV_Misc_Head_Dwarf_01",
    "INV_Misc_Head_Dwarf_02",
    "INV_Misc_Head_Elf_01",
    "INV_Misc_Head_Elf_02",
    "INV_Misc_Head_Gnoll_01",
    "INV_Misc_Head_Gnome_01",
    "INV_Misc_Head_Gnome_02",
    "INV_Misc_Head_Human_01",
    "INV_Misc_Head_Human_02",
    "INV_Misc_Head_Kobold_01",
    "INV_Misc_Head_Murloc_01",
    "INV_Misc_Head_Orc_01",
    "INV_Misc_Head_Orc_02",
    "INV_Misc_Head_Quillboar_01",
    "INV_Misc_Head_Scourge_01",
    "INV_Misc_Head_Tauren_01",
    "INV_Misc_Head_Tauren_02",
    "INV_Misc_Head_Tiger_01",
    "INV_Misc_Head_Troll_01",
    "INV_Misc_Head_Troll_02",
    "INV_Misc_Head_Undead_01",
    "INV_Misc_Head_Undead_02",
    "INV_Misc_Herb_01",
    "INV_Misc_Herb_02",
    "INV_Misc_Herb_03",
    "INV_Misc_Herb_04",
    "INV_Misc_Herb_05",
    "INV_Misc_Herb_BlackLotus",
    "INV_Misc_Herb_DreamFoil",
    "INV_Misc_Herb_IceCap",
    "INV_Misc_Herb_MountainSilverSage",
    "INV_Misc_Herb_PlagueBloom",
    "INV_Misc_Herb_SansamRoot",
    "INV_Misc_Horn_01",
    "INV_Misc_Horn_02",
    "INV_Misc_Horn_03",
    "INV_Misc_Idol_01",
    "INV_Misc_Idol_02",
    "INV_Misc_Idol_03",
    "INV_Misc_Key_01",
    "INV_Misc_Key_02",
    "INV_Misc_Key_03",
    "INV_Misc_Key_04",
    "INV_Misc_Key_05",
    "INV_Misc_Lantern_01",
    "INV_Misc_LeatherScrap_01",
    "INV_Misc_LeatherScrap_02",
    "INV_Misc_LeatherScrap_03",
    "INV_Misc_LeatherScrap_04",
    "INV_Misc_LeatherScrap_05",
    "INV_Misc_Map_01",
    "INV_Misc_MonsterClaw_01",
    "INV_Misc_MonsterClaw_02",
    "INV_Misc_MonsterClaw_03",
    "INV_Misc_MonsterClaw_04",
    "INV_Misc_MonsterFang_01",
    "INV_Misc_MonsterHead_01",
    "INV_Misc_MonsterHead_02",
    "INV_Misc_MonsterHead_03",
    "INV_Misc_MonsterHead_04",
    "INV_Misc_MonsterScales_01",
    "INV_Misc_MonsterScales_02",
    "INV_Misc_MonsterScales_03",
    "INV_Misc_MonsterScales_04",
    "INV_Misc_MonsterScales_05",
    "INV_Misc_MonsterSpiderCarapace_01",
    "INV_Misc_MonsterTail_01",
    "INV_Misc_MonsterTail_02",
    "INV_Misc_MonsterTail_03",
    "INV_Misc_Net_01",
    "INV_Misc_Note_01",
    "INV_Misc_Note_02",
    "INV_Misc_Note_03",
    "INV_Misc_Note_04",
    "INV_Misc_Note_05",
    "INV_Misc_Orb_01",
    "INV_Misc_Orb_02",
    "INV_Misc_Orb_03",
    "INV_Misc_Orb_04",
    "INV_Misc_Orb_05",
    "INV_Misc_Organ_01",
    "INV_Misc_Organ_02",
    "INV_Misc_Organ_03",
    "INV_Misc_Organ_04",
    "INV_Misc_Organ_05",
    "INV_Misc_OrnateBox",
    "INV_Misc_Pelt_01",
    "INV_Misc_Pelt_02",
    "INV_Misc_Pelt_03",
    "INV_Misc_Pelt_04",
    "INV_Misc_Pelt_05",
    "INV_Misc_Pelt_Bear_01",
    "INV_Misc_Pelt_Bear_02",
    "INV_Misc_Pelt_Bear_03",
    "INV_Misc_Pelt_Bear_Ruin_01",
    "INV_Misc_Pelt_Bear_Ruin_02",
    "INV_Misc_Pelt_Bear_Ruin_03",
    "INV_Misc_Pelt_Bear_Ruin_04",
    "INV_Misc_Pelt_Bear_Ruin_05",
    "INV_Misc_Pelt_Boar_01",
    "INV_Misc_Pelt_Boar_02",
    "INV_Misc_Pelt_Boar_Ruin_01",
    "INV_Misc_Pelt_Boar_Ruin_02",
    "INV_Misc_Pelt_Boar_Ruin_03",
    "INV_Misc_Pelt_Wolf_01",
    "INV_Misc_Pelt_Wolf_02",
    "INV_Misc_Pelt_Wolf_Ruin_01",
    "INV_Misc_Pelt_Wolf_Ruin_02",
    "INV_Misc_Pelt_Wolf_Ruin_03",
    "INV_Misc_Pelt_Wolf_Ruin_04",
    "INV_Misc_Pipe_01",
    "INV_Misc_Platnumdisks",
    "INV_Misc_PocketWatch_01",
    "INV_Misc_PocketWatch_02",
    "INV_Misc_PocketWatch_03",
    "INV_Misc_QuestionMark",
    "INV_Misc_Quiver_01",
    "INV_Misc_Quiver_02",
    "INV_Misc_Quiver_03",
    "INV_Misc_Quiver_04",
    "INV_Misc_Quiver_05",
    "INV_Misc_Root_01",
    "INV_Misc_Root_02",
    "INV_Misc_Rune_01",
    "INV_Misc_Rune_02",
    "INV_Misc_Rune_03",
    "INV_Misc_Rune_04",
    "INV_Misc_Rune_05",
    "INV_Misc_ScrewDriver_01",
    "INV_Misc_ScrewDriver_02",
    "INV_Misc_ShadowEgg",
    "INV_Misc_Shell_01",
    "INV_Misc_Shell_02",
    "INV_Misc_Shell_03",
    "INV_Misc_Shell_04",
    "INV_Misc_Shovel_01",
    "INV_Misc_Shovel_02",
    "INV_Misc_Slime_01",
    "INV_Misc_Spyglass_01",
    "INV_Misc_Spyglass_02",
    "INV_Misc_Spyglass_03",
    "INV_Misc_StoneTablet_01",
    "INV_Misc_StoneTablet_02",
    "INV_Misc_StoneTablet_03",
    "INV_Misc_StoneTablet_04",
    "INV_Misc_StoneTablet_05",
    "INV_Misc_TheGoldenCheep",
    "INV_Misc_Urn_01",
    "INV_Misc_Wrench_01",
    "INV_Misc_Wrench_02",
    "INV_Mushroom_01",
    "INV_Mushroom_02",
    "INV_Mushroom_03",
    "INV_Mushroom_04",
    "INV_Mushroom_05",
    "INV_Musket_01",
    "INV_Musket_02",
    "INV_Musket_03",
    "INV_Musket_04",
    "INV_Ore_Arcanite_01",
    "INV_Ore_Arcanite_02",
    "INV_Ore_Copper_01",
    "INV_Ore_Iron_01",
    "INV_Ore_Mithril_01",
    "INV_Ore_Mithril_02",
    "INV_Ore_Thorium_01",
    "INV_Ore_Thorium_02",
    "INV_Ore_Tin_01",
    "INV_Ore_TrueSilver_01",
    "INV_Pants_01",
    "INV_Pants_02",
    "INV_Pants_03",
    "INV_Pants_04",
    "INV_Pants_05",
    "INV_Pants_Wolf",
    "INV_Pick_01",
    "INV_Pick_02",
    "INV_Pick_03",
    "INV_Pick_05",
    "INV_Poison_MindNumbing",
    "INV_Potion_01",
    "INV_Potion_02",
    "INV_Potion_03",
    "INV_Potion_04",
    "INV_Potion_05",
    "INV_Scroll_01",
    "INV_Scroll_02",
    "INV_Scroll_03",
    "INV_Scroll_04",
    "INV_Scroll_05",
    "INV_Shield_01",
    "INV_Shield_02",
    "INV_Shield_03",
    "INV_Shield_04",
    "INV_Shield_05",
    "INV_Shirt_01",
    "INV_Shirt_02",
    "INV_Shirt_03",
    "INV_Shirt_04",
    "INV_Shirt_05",
    "INV_Shirt_Black_01",
    "INV_Shirt_Blue_01",
    "INV_Shirt_Green_01",
    "INV_Shirt_Grey_01",
    "INV_Shirt_GuildTabard_01",
    "INV_Shirt_Orange_01",
    "INV_Shirt_Purple_01",
    "INV_Shirt_Red_01",
    "INV_Shirt_White_01",
    "INV_Shirt_Yellow_01",
    "INV_Shoulder_01",
    "INV_Shoulder_02",
    "INV_Shoulder_03",
    "INV_Shoulder_04",
    "INV_Shoulder_05",
    "INV_Spear_01",
    "INV_Spear_02",
    "INV_Spear_03",
    "INV_Spear_04",
    "INV_Spear_05",
    "INV_Staff_01",
    "INV_Staff_02",
    "INV_Staff_03",
    "INV_Staff_04",
    "INV_Staff_05",
    "INV_Staff_Goldfeathered_01",
    "INV_Stone_01",
    "INV_Stone_02",
    "INV_Stone_03",
    "INV_Stone_04",
    "INV_Stone_05",
    "INV_Stone_GrindingStone_01",
    "INV_Stone_GrindingStone_02",
    "INV_Stone_GrindingStone_03",
    "INV_Stone_GrindingStone_04",
    "INV_Stone_GrindingStone_05",
    "INV_Stone_SharpeningStone_01",
    "INV_Stone_SharpeningStone_02",
    "INV_Stone_SharpeningStone_03",
    "INV_Stone_SharpeningStone_04",
    "INV_Stone_SharpeningStone_05",
    "INV_Stone_WeightStone_01",
    "INV_Stone_WeightStone_02",
    "INV_Stone_WeightStone_03",
    "INV_Stone_WeightStone_04",
    "INV_Stone_WeightStone_05",
    "INV_Sword_01",
    "INV_Sword_02",
    "INV_Sword_03",
    "INV_Sword_04",
    "INV_Sword_05",
    "INV_ThrowingAxe_01",
    "INV_ThrowingAxe_02",
    "INV_ThrowingAxe_03",
    "INV_ThrowingAxe_04",
    "INV_ThrowingAxe_05",
    "INV_ThrowingKnife_01",
    "INV_ThrowingKnife_02",
    "INV_ThrowingKnife_03",
    "INV_ThrowingKnife_04",
    "INV_ThrowingKnife_05",
    "INV_Torch_Lit",
    "INV_Torch_Unlit",
    "INV_TradeskillItem_01",
    "INV_TradeskillItem_02",
    "INV_TradeskillItem_03",
    "INV_Wand_01",
    "INV_Wand_02",
    "INV_Wand_03",
    "INV_Wand_04",
    "INV_Wand_05",
    "INV_Weapon_Bow_01",
    "INV_Weapon_Bow_02",
    "INV_Weapon_Bow_03",
    "INV_Weapon_Bow_04",
    "INV_Weapon_Bow_05",
    "INV_Weapon_Crossbow_01",
    "INV_Weapon_Crossbow_02",
    "INV_Weapon_Crossbow_03",
    "INV_Weapon_Crossbow_04",
    "INV_Weapon_Crossbow_05",
    "INV_Weapon_Halbard_01",
    "INV_Weapon_Halberd_02",
    "INV_Weapon_Halberd_03",
    "INV_Weapon_Halberd_04",
    "INV_Weapon_Halberd_05",
    "INV_Weapon_Rifle_01",
    "INV_Weapon_Rifle_02",
    "INV_Weapon_Rifle_03",
    "INV_Weapon_Rifle_04",
    "INV_Weapon_Rifle_05",
    "INV_Weapon_ShortBlade_01",
    "INV_Weapon_ShortBlade_02",
    "INV_Weapon_ShortBlade_03",
    "INV_Weapon_ShortBlade_04",
    "INV_Weapon_ShortBlade_05",
    "Racial_Dwarf_FindTreasure",
    "Racial_Orc_BerserkerStrength",
    "Racial_Troll_Berserk",
    "Spell_Arcane_Blink",
    "Spell_Arcane_PortalDarnassus",
    "Spell_Arcane_PortalIronForge",
    "Spell_Arcane_PortalOrgrimmar",
    "Spell_Arcane_PortalStormWind",
    "Spell_Arcane_PortalThunderBluff",
    "Spell_Arcane_PortalUnderCity",
    "Spell_Arcane_StarFire",
    "Spell_Arcane_TeleportDarnassus",
    "Spell_Arcane_TeleportIronForge",
    "Spell_Arcane_TeleportMoonglade",
    "Spell_Arcane_TeleportOrgrimmar",
    "Spell_Arcane_TeleportStormWind",
    "Spell_Arcane_TeleportThunderBluff",
    "Spell_Arcane_TeleportUnderCity",
    "Spell_Fire_EnchantWeapon",
    "Spell_Fire_Fire",
    "Spell_Fire_FireArmor",
    "Spell_Fire_Fireball",
    "Spell_Fire_Fireball02",
    "Spell_Fire_FireBolt",
    "Spell_Fire_FireBolt02",
    "Spell_Fire_FlameBlades",
    "Spell_Fire_FlameBolt",
    "Spell_Fire_FlameShock",
    "Spell_Fire_FlameTounge",
    "Spell_Fire_Flare",
    "Spell_Fire_Immolation",
    "Spell_Fire_Incinerate",
    "Spell_Fire_LavaSpawn",
    "Spell_Fire_MeteorStorm",
    "Spell_Fire_SealOfFire",
    "Spell_Fire_SearingTotem",
    "Spell_Fire_SelfDestruct",
    "Spell_Fire_SoulBurn",
    "Spell_Fire_SunKey",
    "Spell_Fire_Volcano",
    "Spell_Fire_WindsofWoe",
    "Spell_Frost_ChainsOfIce",
    "Spell_Frost_ChillingArmor",
    "Spell_Frost_ChillingBlast",
    "Spell_Frost_ChillingBolt",
    "Spell_Frost_FreezingBreath",
    "Spell_Frost_Frost",
    "Spell_Frost_FrostArmor",
    "Spell_Frost_FrostArmor02",
    "Spell_Frost_FrostBlast",
    "Spell_Frost_Frostbolt",
    "Spell_Frost_FrostBolt02",
    "Spell_Frost_FrostBrand",
    "Spell_Frost_FrostNova",
    "Spell_Frost_FrostShock",
    "Spell_Frost_FrostWard",
    "Spell_Frost_Glacier",
    "Spell_Frost_IceClaw",
    "Spell_Frost_IceShard",
    "Spell_Frost_IceShock",
    "Spell_Frost_IceStorm",
    "Spell_Frost_ManaBurn",
    "Spell_Frost_ManaRecharge",
    "Spell_Frost_Stun",
    "Spell_Frost_SummonWaterElemental",
    "Spell_Frost_WindWalkOn",
    "Spell_Frost_Wisp",
    "Spell_Frost_WizardMark",
    "Spell_Holy_AshesToAshes",
    "Spell_Holy_AuraOfLight",
    "Spell_Holy_BlessingOfAgility",
    "Spell_Holy_BlessingOfProtection",
    "Spell_Holy_BlessingOfStamina",
    "Spell_Holy_BlessingOfStrength",
    "Spell_Holy_Devotion",
    "Spell_Holy_DevotionAura",
    "Spell_Holy_DispelMagic",
    "Spell_Holy_DivineIntervention",
    "Spell_Holy_Dizzy",
    "Spell_Holy_Excorcism",
    "Spell_Holy_Excorcism_02",
    "Spell_Holy_FistOfJustice",
    "Spell_Holy_FlashHeal",
    "Spell_Holy_GreaterHeal",
    "Spell_Holy_HarmUndeadAura",
    "Spell_Holy_Heal",
    "Spell_Holy_Heal02",
    "Spell_Holy_HealingAura",
    "Spell_Holy_HolyBolt",
    "Spell_Holy_HolyProtection",
    "Spell_Holy_HolySmite",
    "Spell_Holy_InnerFire",
    "Spell_Holy_LayOnHands",
    "Spell_Holy_LesserHeal",
    "Spell_Holy_LesserHeal02",
    "Spell_Holy_MagicalSentry",
    "Spell_Holy_MindSooth",
    "Spell_Holy_MindVision",
    "Spell_Holy_NullifyDisease",
    "Spell_Holy_PowerWordShield",
    "Spell_Holy_PrayerOfHealing",
    "Spell_Holy_PrayerOfHealing02",
    "Spell_Holy_Purify",
    "Spell_Holy_Redemption",
    "Spell_Holy_RemoveCurse",
    "Spell_Holy_Renew",
    "Spell_Holy_Restoration",
    "Spell_Holy_Resurrection",
    "Spell_Holy_Retribution",
    "Spell_Holy_RetributionAura",
    "Spell_Holy_RighteousFury",
    "Spell_Holy_RighteousnessAura",
    "Spell_Holy_SealOfFury",
    "Spell_Holy_SealOfMight",
    "Spell_Holy_SealOfProtection",
    "Spell_Holy_SealOfRighteousness",
    "Spell_Holy_SealOfSacrifice",
    "Spell_Holy_SealOfSalvation",
    "Spell_Holy_SealOfValor",
    "Spell_Holy_SealOfWisdom",
    "Spell_Holy_SealOfWrath",
    "Spell_Holy_SearingLight",
    "Spell_Holy_SenseUndead",
    "Spell_Holy_Silence",
    "Spell_Holy_TurnUndead",
    "Spell_Holy_WordFortitude",
    "Spell_Ice_Lament",
    "Spell_Ice_MagicDamage",
    "Spell_Lightning_LightningBolt01",
    "Spell_Magic_FeatherFall",
    "Spell_Magic_LesserInvisibilty",
    "Spell_Magic_MageArmor",
    "Spell_Magic_PolymorphChicken",
    "Spell_Magic_PolymorphPig",
    "Spell_Misc_ConjureManaJewel",
    "Spell_Misc_Drink",
    "Spell_Misc_Food",
    "Spell_Nature_AbolishMagic",
    "Spell_Nature_Acid_01",
    "Spell_Nature_AgitatingTotem",
    "Spell_Nature_AncestralGuardian",
    "Spell_Nature_AstralRecal",
    "Spell_Nature_AstralRecalGroup",
    "Spell_Nature_BloodLust",
    "Spell_Nature_Brilliance",
    "Spell_Nature_CallStorm",
    "Spell_Nature_ChainLightning",
    "Spell_Nature_CorrosiveBreath",
    "Spell_Nature_CrystalBall",
    "Spell_Nature_Cyclone",
    "Spell_Nature_Drowsy",
    "Spell_Nature_DryadDispelMagic",
    "Spell_Nature_EarthBind",
    "Spell_Nature_EarthBindTotem",
    "Spell_Nature_Earthquake",
    "Spell_Nature_EarthShock",
    "Spell_Nature_EnchantArmor",
    "Spell_Nature_FaerieFire",
    "Spell_Nature_FarSight",
    "Spell_Nature_ForceOfNature",
    "Spell_Nature_GuardianWard",
    "Spell_Nature_HealingTouch",
    "Spell_Nature_HealingWaveGreater",
    "Spell_Nature_HealingWaveLesser",
    "Spell_Nature_InvisibilityTotem",
    "Spell_Nature_Invisibilty",
    "Spell_Nature_Lightning",
    "Spell_Nature_LightningBolt",
    "Spell_Nature_LightningShield",
    "Spell_Nature_MagicImmunity",
    "Spell_Nature_ManaRegenTotem",
    "Spell_Nature_MassTeleport",
    "Spell_Nature_MirrorImage",
    "Spell_Nature_MoonGlow",
    "Spell_Nature_MoonKey",
    "Spell_Nature_NaturesBlessing",
    "Spell_Nature_NaturesWrath",
    "Spell_Nature_NatureTouchDecay",
    "Spell_Nature_NatureTouchGrow",
    "Spell_Nature_NullifyDisease",
    "Spell_Nature_NullifyPoison",
    "Spell_Nature_NullifyPoison_02",
    "Spell_Nature_NullWard",
    "Spell_Nature_Polymorph",
    "Spell_Nature_Preservation",
    "Spell_Nature_ProtectionformNature",
    "Spell_Nature_Purge",
    "Spell_Nature_RavenForm",
    "Spell_Nature_Regenerate",
    "Spell_Nature_Regeneration",
    "Spell_Nature_Reincarnation",
    "Spell_Nature_Rejuvenation",
    "Spell_Nature_RemoveCurse",
    "Spell_Nature_RemoveDisease",
    "Spell_Nature_ResistMagic",
    "Spell_Nature_ResistNature",
    "Spell_Nature_RockBiter",
    "Spell_Nature_Sentinal",
    "Spell_Nature_Sleep",
    "Spell_Nature_Slow",
    "Spell_Nature_SlowingTotem",
    "Spell_Nature_SlowPoison",
    "Spell_Nature_SpiritArmor",
    "Spell_Nature_SpiritWolf",
    "Spell_Nature_StarFall",
    "Spell_Nature_StoneClawTotem",
    "Spell_Nature_StoneSkinTotem",
    "Spell_Nature_StrangleVines",
    "Spell_Nature_Strength",
    "Spell_Nature_StrengthOfEarthTotem02",
    "Spell_Nature_Swiftness",
    "Spell_Nature_Thorns",
    "Spell_Nature_ThunderClap",
    "Spell_Nature_TimeStop",
    "Spell_Nature_Tranquility",
    "Spell_Nature_UndyingStrength",
    "Spell_Nature_UnyeildingStamina",
    "Spell_Nature_Web",
    "Spell_Nature_Windfury",
    "Spell_Nature_WispHeal",
    "Spell_Nature_WispSplode",
    "Spell_Shadow_AbominationExplosion",
    "Spell_Shadow_AnimateDead",
    "Spell_Shadow_AntiMagicShell",
    "Spell_Shadow_AntiShadow",
    "Spell_Shadow_AuraOfDarkness",
    "Spell_Shadow_BlackPlague",
    "Spell_Shadow_BloodBoil",
    "Spell_Shadow_BurningSpirit",
    "Spell_Shadow_CallofBone",
    "Spell_Shadow_CarrionSwarm",
    "Spell_Shadow_Charm",
    "Spell_Shadow_ChillTouch",
    "Spell_Shadow_Contagion",
    "Spell_Shadow_CorpseExplode",
    "Spell_Shadow_CreepingPlague",
    "Spell_Shadow_Cripple",
    "Spell_Shadow_Curse",
    "Spell_Shadow_CurseOfAchimonde",
    "Spell_Shadow_CurseOfMannoroth",
    "Spell_Shadow_CurseOfSargeras",
    "Spell_Shadow_CurseOfTounges",
    "Spell_Shadow_DarkRitual",
    "Spell_Shadow_DarkSummoning",
    "Spell_Shadow_DeadofNight",
    "Spell_Shadow_DeathAndDecay",
    "Spell_Shadow_DeathCoil",
    "Spell_Shadow_DeathPact",
    "Spell_Shadow_DeathScream",
    "Spell_Shadow_DemonBreath",
    "Spell_Shadow_DetectInvisibility",
    "Spell_Shadow_DetectLesserInvisibility",
    "Spell_Shadow_EnslaveDemon",
    "Spell_Shadow_EvilEye",
    "Spell_Shadow_FingerOfDeath",
    "Spell_Shadow_Fumble",
    "Spell_Shadow_GatherShadows",
    "Spell_Shadow_GhostKey",
    "Spell_Shadow_GrimWard",
    "Spell_Shadow_Haunting",
    "Spell_Shadow_ImpPhaseShift",
    "Spell_Shadow_LifeDrain",
    "Spell_Shadow_LifeDrain02",
    "Spell_Shadow_ManaBurn",
    "Spell_Shadow_Metamorphosis",
    "Spell_Shadow_MindBomb",
    "Spell_Shadow_MindRot",
    "Spell_Shadow_MindSteal",
    "Spell_Shadow_NightOfTheDead",
    "Spell_Shadow_PlagueCloud",
    "Spell_Shadow_Possession",
    "Spell_Shadow_PsychicScream",
    "Spell_Shadow_RagingScream",
    "Spell_Shadow_RainOfFire",
    "Spell_Shadow_RaiseDead",
    "Spell_Shadow_Requiem",
    "Spell_Shadow_RitualOfSacrifice",
    "Spell_Shadow_SacrificialShield",
    "Spell_Shadow_ScourgeBuild",
    "Spell_Shadow_SealOfKings",
    "Spell_Shadow_ShadeTrueSight",
    "Spell_Shadow_ShadowBolt",
    "Spell_Shadow_Shadowform",
    "Spell_Shadow_ShadowPact",
    "Spell_Shadow_ShadowWard",
    "Spell_Shadow_ShadowWordDominate",
    "Spell_Shadow_ShadowWordPain",
    "Spell_Shadow_SiphonMana",
    "Spell_Shadow_SoothingKiss",
    "Spell_Shadow_SoulGem",
    "Spell_Shadow_SpectralSight",
    "Spell_Shadow_SummonFelHunter",
    "Spell_Shadow_SummonImp",
    "Spell_Shadow_SummonInfernal",
    "Spell_Shadow_SummonSuccubus",
    "Spell_Shadow_SummonVoidWalker",
    "Spell_Shadow_Teleport",
    "Spell_Shadow_Twilight",
    "Spell_Shadow_UnholyFrenzy",
    "Spell_Shadow_UnholyStrength",
    "Spell_Shadow_UnsummonBuilding",
    "Spell_Shadow_VampiricAura",
    "Spell_Totem_WardOfDraining",
    "Temp",
    "Trade_Alchemy",
    "Trade_BlackSmithing",
    "Trade_BrewPoison",
    "Trade_Engineering",
    "Trade_Engraving",
    "Trade_Fishing",
    "Trade_Herbalism",
    "Trade_LeatherWorking",
    "Trade_Mining",
    "Trade_Tailoring",
    "ability_bossmagistrix_timewarp2",
    "Ability_Creature_Poison_05",
    "ability_deathknight_summongargoyle",
    "Ability_Druid_Berserk",
    "Ability_Druid_Cower",
    "Ability_Druid_Eclipse",
    "Ability_Druid_FlightForm",
    "Ability_Druid_ForceofNature",
    "Ability_Druid_GaleWinds",
    "Ability_Druid_Lacerate",
    "Ability_Druid_ManaTree",
    "Ability_Druid_Mangle2",
    "Ability_Druid_MasterShapeshifter",
    "Ability_Druid_OwlkinFrenzy",
    "Ability_Druid_PrimalPrecision",
    "Ability_Druid_PrimalTenacity",
    "Ability_Druid_Starfall",
    "Ability_Druid_TigersRoar",
    "Ability_Druid_TreeofLife",
    "Ability_EyeOfTheOwl",
    "ability_hunter_aspectofthefox",
    "Ability_Hunter_AspectoftheViper",
    "Ability_Hunter_ChimeraShot2",
    "Ability_Hunter_CobraStrikes",
    "Ability_Hunter_DisarmingShot",
    "Ability_Hunter_FocusedAim",
    "Ability_Hunter_GoForTheThroat",
    "Ability_Hunter_ImprovedSteadyShot",
    "Ability_Hunter_ImprovedTracking",
    "Ability_Hunter_KillCommand",
    "Ability_Hunter_Pet_Basilisk",
    "Ability_Hunter_Pet_Chimaera",
    "Ability_Hunter_Pet_Chimera",
    "Ability_Hunter_Pet_CoreHound",
    "Ability_Hunter_Pet_Devilsaur",
    "Ability_Hunter_Pet_DragonHawk",
    "Ability_Hunter_Pet_Hippogryph",
    "Ability_Hunter_Pet_Hydra",
    "Ability_Hunter_Pet_Pterrodax2",
    "Ability_Hunter_Pet_Ravager",
    "Ability_Hunter_Pet_Serpent1",
    "Ability_Hunter_Pet_Silithid",
    "Ability_Hunter_Pet_Stag1",
    "Ability_Hunter_Pet_TallStrider",
    "Ability_Hunter_Pet_Thunder_Lizard",
    "ability_hunter_pet_warpstalker",
    "Ability_Hunter_Pet_Wasp",
    "Ability_Hunter_Pet_Worm",
    "Ability_Hunter_SteadyShot",
    "Ability_Mage_FrostFireBolt",
    "Ability_Mage_IncantersAbsorbtion",
    "ABILITY_MAGE_INVISIBILITY",
    "Ability_Mage_LivingBomb",
    "Ability_Mount_BigBlizzardBear",
    "Ability_Mount_BlueWindRider",
    "Ability_Mount_GreenWindRider",
    "Ability_Mount_Gryphon_01",
    "Ability_Mount_Gyrocoptor",
    "Ability_Mount_GyrocoptorElite",
    "Ability_Mount_KotoBrewfest",
    "Ability_Mount_NetherdrakePurple",
    "Ability_Mount_PolarBear_Black",
    "ability_mount_spectraltiger",
    "Ability_Mount_SwiftRedWindRider",
    "Ability_Mount_TawnyWindRider",
    "Ability_Mount_WarHippogryph",
    "Ability_Paladin_JudgementBlue",
    "ability_rewindtime",
    "Ability_Rogue_DeadlyBrew",
    "Ability_Rogue_DeviousPoisons",
    "Ability_Rogue_Disembowel",
    "Ability_Rogue_EnvelopingShadows",
    "Ability_Rogue_ShadowDance",
    "Ability_Rogue_Shadowstep",
    "Ability_Rogue_ShadowStrikes",
    "Ability_Rogue_SurpriseAttack",
    "Ability_Shaman_Heroism",
    "Ability_Shaman_Lavalash",
    "Ability_Shaman_Stormstrike",
    "Ability_Shaman_WaterShield",
    "ability_titankeeper_amalgam",
    "ability_vehicle_siegeenginecharge",
    "Ability_Warlock_Avoidance",
    "Ability_Warlock_ChaosBolt",
    "Ability_Warlock_DemonicEmpowerment",
    "Ability_Warlock_DemonicPower",
    "ability_warlock_incubus",
    "Ability_Warlock_MoltenCore",
    "ability_warlock_randomizesuccubusincubus",
    "Ability_Warlock_ShadowFlame",
    "Ability_Warrior_CommandingShout",
    "Ability_Warrior_CriticalBlock",
    "Ability_Warrior_Devastate",
    "Ability_Warrior_ImprovedDisciplines",
    "Ability_Warrior_Intervene",
    "Ability_Warrior_RallyingCry",
    "Ability_Warrior_ShieldBreak",
    "Ability_Warrior_ShieldGuard",
    "Ability_Warrior_ShieldMastery",
    "Ability_Warrior_ShieldReflection",
    "Ability_Warrior_StrengthOfArms",
    "Ability_Warrior_SwordandBoard",
    "Ability_Warrior_VictoryRush",
    "Ability_Warrior_WeaponMastery",
    "Spell_Arcane_Blast",
    "Spell_Arcane_PortalSilvermoon",
    "spell_arcane_portaltheramore",
    "spell_arcane_tamamo",
    "Spell_Arcane_TeleportSilvermoon",
    "spell_arcane_teleporttheramore",
    "Spell_Fire_Elemental_Totem",
    "Spell_Frost_SummonWaterElemental_2",
    "Spell_Holy_ArdentDefender",
    "Spell_Holy_AuraMastery",
    "Spell_Holy_BorrowedTime",
    "Spell_Holy_ChampionsBond",
    "Spell_Holy_ChampionsGrace",
    "Spell_Holy_Crusade",
    "Spell_Holy_CrusaderAura",
    "Spell_Holy_CrusaderStrike",
    "Spell_Holy_EmpowerChampion",
    "Spell_Holy_ProclaimChampion",
    "Spell_Holy_ProclaimChampion_02",
    "Spell_Holy_ReviveChampion",
    "Spell_Holy_SealOfBlood",
    "Spell_Holy_SummonChampion",
    "Spell_Holy_SurgeOfLight",
    "Spell_Mage_FocusingCrystal",
    "Spell_Nature_EarthElemental_Totem",
    "Spell_Nature_ElementalAbsorption",
    "Spell_Nature_ElementalPrecision_1",
    "Spell_Nature_ElementalPrecision_2",
    "Spell_Nature_GiftoftheWaterSpirit",
    "Spell_Nature_GuardianWard",
    "Spell_Nature_Polymorph",
    "Spell_Nature_Polymorph_Cow",
    "Spell_Nature_Sentinal",
    "Spell_Nature_ShamanRage",
    "Spell_Nature_SkinofEarth",
    "Spell_Nature_SpiritWolf",
    "Spell_Shadow_DemonicPact",
    "Spell_Shadow_DestructiveSoul",
    "Spell_Shadow_FelMending",
    "Spell_Shadow_PainSpike",
    "Spell_Shadow_ShadowMend",
    "Spell_Shadow_SoulLeech",
    "Spell_Shadow_SoulLeech_1",
    "Spell_Shadow_SoulLeech_2",
    "Spell_Shadow_SoulLeech_3",
    "spell_shadow_summonfelguard",
    "Spell_Shadow_UnstableAffliction_3",
    "Spell_Shaman_AstralShift",
    "Spell_Shaman_Dropall_01",
    "Spell_Shaman_Dropall_02",
    "Spell_Shaman_Dropall_03",
    "Spell_Shaman_FeralSpirit",
    "Spell_Shaman_Hex",
    "Spell_Shaman_ImprovedEarthShield",
    "Spell_Shaman_SpiritLink",
    "Spell_Shaman_TidalWaves",
    "Spell_Shaman_TotemRecall",
    "Spell_unused2",
    "warlock_summon_doomguard",
    "ability_gilnean_raven",
    "Ability_Hunter_Pet_Darkhound",
    "Spell_Arcane_ArcaneResilience",
    "Spell_BrokenHeart",
    "Spell_ChargeNegative",
    "Spell_ChargePositive",
    "Spell_Fire_ElementalDevastation",
    "Spell_Fire_FrostResistanceTotem",
    "Spell_Fire_MasterOfElements",
    "Spell_FireResistanceTotem_01",
    "Spell_Frost_FireResistanceTotem",
    "Spell_FrostResistanceTotem_01",
    "Spell_Holiday_ToW_SpiceCloud",
    "Spell_Holy_ArcaneIntellect",
    "Spell_Holy_BlessedRecovery",
    "Spell_Holy_DivineSpirit",
    "Spell_Holy_ElunesGrace",
    "Spell_Holy_EyeforanEye",
    "Spell_Holy_GreaterBlessingofKings",
    "Spell_Holy_GreaterBlessingofLight",
    "Spell_Holy_GreaterBlessingofSalvation",
    "Spell_Holy_GreaterBlessingofSanctuary",
    "Spell_Holy_GreaterBlessingofWisdom",
    "Spell_Holy_HealingFocus",
    "Spell_Holy_HolyNova",
    "Spell_Holy_PersuitofJustice",
    "Spell_Holy_Power",
    "Spell_Holy_PowerInfusion",
    "Spell_Holy_PrayerOfFortitude",
    "Spell_Holy_PrayerofShadowProtection",
    "Spell_Holy_PrayerofSpirit",
    "Spell_Holy_SearingLightPriest",
    "Spell_Holy_SpellWarding",
    "Spell_Holy_SpiritualGuidence",
    "Spell_Holy_SummonLightwell",
    "Spell_Holy_UnyieldingFaith",
    "Spell_Holy_Vindication",
    "Spell_MageArmor",
    "Spell_Magic_GreaterBlessingofKings",
    "Spell_Nature_DiseaseCleansingTotem",
    "Spell_Nature_EyeOfTheStorm",
    "Spell_Nature_GroundingTotem",
    "Spell_Nature_HealingWay",
    "Spell_Nature_InsectSwarm",
    "Spell_Nature_NatureResistanceTotem",
    "Spell_Nature_NullifyPoison",
    "Spell_Nature_PoisonCleansingTotem",
    "Spell_Nature_Polymorph_Cow",
    "Spell_Nature_StormReach",
    "Spell_Nature_TremorTotem",
    "Spell_Shadow_ImprovedVampiricEmbrace",
    "Spell_Shadow_ShadowWordPain",
    
  }

  local buttonsPerRow = 7
  local spacing = 40
  local offsetX, offsetY = 0, 0

  local iconCount = table.getn(ICON_LIST)
  f.iconButtons = {}

  for i = 1, iconCount do
    local thisIconName = ICON_LIST[i]
    local button = CreateFrame("Button", nil, content)
    button:SetWidth(36)
    button:SetHeight(36)

    local row = math.floor((i - 1) / buttonsPerRow)
    local col = mod(i - 1, buttonsPerRow)

    button:SetPoint("TOPLEFT", content, "TOPLEFT", offsetX + col * spacing, offsetY - row * spacing)

    local tex = button:CreateTexture(nil, "ARTWORK")
    tex:SetAllPoints()
    tex:SetTexture("Interface\\Icons\\" .. thisIconName)
    button.texture = tex
    button.iconName = thisIconName

    local highlight = button:CreateTexture(nil, "OVERLAY")
    highlight:SetAllPoints()
    highlight:SetTexture("Interface\\Buttons\\UI-Quickslot2")
    highlight:SetVertexColor(1, 1, 0, 0.5)
    highlight:Hide()
    button.highlight = highlight

    button:SetScript("OnClick", function()
      if f.selectedCallback then
        f.selectedCallback("Interface\\Icons\\" .. thisIconName)
      end
      f:Hide()
    end)

    table.insert(f.iconButtons, button)
  end

  local totalRows = math.ceil(iconCount / buttonsPerRow)
  content:SetHeight(totalRows * spacing)

  function f:ShowSelector(callback, currentIcon)
    self.selectedCallback = callback
    self:Show()

    for _, btn in ipairs(self.iconButtons) do
      if ("Interface\\Icons\\" .. btn.iconName) == currentIcon then
        btn.highlight:Show()
      else
        btn.highlight:Hide()
      end
    end
  end

  return f
end

BrainSaver_IconSelector = BrainSaver_IconSelector or CreateLegacyIconSelector()
